(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8658],{63:(e,t,r)=>{"use strict";var n=r(7260);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},1150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(5155),s=r(2115),o=r(4437);function a(e){return{default:e&&"default"in e?e.default:e}}r(6552);let l={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},i=function(e){let t={...l,...e},r=(0,s.lazy)(()=>t.loader().then(a)),i=t.loading;function u(e){let a=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,u=l?s.Suspense:s.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...l?{fallback:a}:{},children:d})}return u.displayName="LoadableComponent",u}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return a},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return l}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return s?new s:new n}function a(e){return s?s.bind(e):n.bind(e)}function l(){return s?s.snapshot():function(e,...t){return e(...t)}}},4437:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(4553)},6249:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(5155),s=r(2115),o=r(63),a=r(6278);let l=r.n(a)()(()=>Promise.all([r.e(8332),r.e(5179)]).then(r.bind(r,5179)),{loadableGenerated:{webpack:()=>[5179]},ssr:!1});function i(e){let{userId:t,userTickets:r}=e,a=(0,o.useRouter)(),[i,u]=(0,s.useState)({title:"",description:"",budget:"",region:"",province:"",city:""}),[d,c]=(0,s.useState)(!1),[b,m]=(0,s.useState)(""),f=async e=>{if(e.preventDefault(),r<1)return void m("You need at least 1 ticket to post a job. Please purchase tickets first.");if(!i.title.trim()||!i.description.trim())return void m("Please fill in all required fields.");if(!i.region||!i.city)return void m("Please select a location.");c(!0),m("");try{let e=await fetch("/api/gigs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:i.title.trim(),description:i.description.trim(),budget:i.budget?parseFloat(i.budget):null,region_code:i.region,city_code:i.city})});if(e.ok){let t=await e.json();a.push("/browse-jobs/".concat(t.gig.id))}else{let t=await e.json();m(t.error||"Failed to create job posting")}}catch(e){m("Network error. Please try again.")}finally{c(!1)}};return r<1?(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,n.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[(0,n.jsx)("h2",{className:"font-semibold text-yellow-800 mb-2",children:"Tickets Required"}),(0,n.jsx)("p",{className:"text-yellow-700 mb-4",children:"You need at least 1 ticket to post a job. Tickets ensure serious commitment from both employers and job seekers."}),(0,n.jsx)("a",{href:"/tickets/buy",className:"inline-block bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded font-medium",children:"Buy Tickets"})]})}):(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,n.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Title *"}),(0,n.jsx)("input",{type:"text",id:"title",value:i.title,onChange:e=>u(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., Web Developer, Graphic Designer, Virtual Assistant",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Job Description *"}),(0,n.jsx)("textarea",{id:"description",value:i.description,onChange:e=>u(t=>({...t,description:e.target.value})),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Describe the job requirements, responsibilities, and qualifications...",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (PHP)"}),(0,n.jsx)("input",{type:"number",id:"budget",value:i.budget,onChange:e=>u(t=>({...t,budget:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., 25000",min:"0",step:"0.01"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Optional: Specify the budget for this job"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,n.jsx)(l,{onLocationChange:e=>{u(t=>({...t,region:e.region,province:e.province,city:e.city}))}})]}),b&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,n.jsx)("p",{className:"text-red-700 text-sm",children:b})}),(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,n.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Ticket Usage"}),(0,n.jsx)("p",{className:"text-blue-700 text-sm",children:"Posting this job will not spend any tickets immediately. Tickets are only spent when you and a job seeker reach an agreement."}),(0,n.jsxs)("p",{className:"text-blue-600 text-xs mt-1",children:["Current balance: ",r," tickets"]})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{type:"submit",disabled:d,className:"flex-1 bg-teal-600 hover:bg-teal-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-md font-medium transition-colors",children:d?"Creating Job...":"Post Job"}),(0,n.jsx)("button",{type:"button",onClick:()=>a.push("/browse-jobs"),className:"px-6 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})}},6278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(8140)._(r(1150));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let o={...s,...t};return(0,n.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6552:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(8567),r(7278)},6824:(e,t,r)=>{Promise.resolve().then(r.bind(r,6249))},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()},8567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=6824)),_N_E=e.O()}]);